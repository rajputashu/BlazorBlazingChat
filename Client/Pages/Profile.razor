@page "/"
@using BlazingChat.Shared.Models
@using BlazingChat.ViewModels
@inject IProfileViewModel profileViewModel

@* <PageTitle>Index</PageTitle>
    <h1>Hello, world!</h1>
    Welcome to your new app.
    <SurveyPrompt Title="How is Blazor working for you?" /> *@

<div class="col-12">

    <input type="text" @bind-value="profileViewModel.FirstName" class="form-control" placeholder="First Name">
    <br />
    <input type="text" @bind-value="profileViewModel.LastName" class="form-control" placeholder="Last Name">
    <br />
    <input type="text" @bind-value="profileViewModel.EmailAddress" class="form-control" placeholder="Email Address">
    <br />
    <button class="btn btn-primary" @onclick="profileViewModel.validateProfile">Update Profile</button>
    @* <button class="btn btn-primary" @onclick="profileViewModel.getProfileData">Get Profile</button> *@
    <br />
    <span>&nbsp; &nbsp;</span>@profileViewModel.message

</div>

@code {
    protected override async Task OnInitializedAsync()
    {
        await profileViewModel.getProfileData();
    }
}
